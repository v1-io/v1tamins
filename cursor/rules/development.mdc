---
description: Core development principles and code quality guidelines
globs: **/*.py,**/*.ts,**/*.tsx,**/*.js,**/*.jsx
alwaysApply: true
---

# Development Guidelines

## Code Style & Quality
- Keep changes concise and focused on the specific task
- Use comments only to explain complex logic, not obvious code
- Don't modify unrelated code
- Keep cognitive complexity of functions under 15

## AI Development Comments
Add searchable comments for AI and developers using:
- `AIDEV-NOTE:` for important implementation notes (â‰¤120 chars)
- `AIDEV-TODO:` for future tasks
- `AIDEV-QUESTION:` for clarifications needed

**Important:** Always check for existing `AIDEV-*` comments before making changes and update them when modifying related code. Never remove `AIDEV-NOTE`s without explicit instruction.

Example:
```python
# AIDEV-NOTE: perf-hot-path; avoid extra allocations
async def render_feed(...):
```

## Logging Standards
Follow these conventions for production-ready logging:
1. **Warning level**: Expected errors (bad inputs, validation failures) - logged but won't raise alerts
2. **Error level**: Unexpected errors with full stack traces - raises monitoring alerts
3. **Info level**: Minimal production logging for high-level operations only

## Testing
- Mock external calls in unit tests
- Share mocking functions in test utilities
- Write tests that are independent, isolated, and deterministic
